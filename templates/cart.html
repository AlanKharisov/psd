<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Cart</title>
</head>
<body style="font-family:system-ui;padding:20px">
<h2>Корзина ({{.CartCount}})</h2>
<p><a href="/">← На главную</a></p>

{{if not .Items}}
<p>Корзина пустая.</p>
{{end}}

{{range .Items}}
<div style="display:flex;gap:12px;align-items:center;border:1px solid #ddd;padding:10px;border-radius:10px;margin-bottom:10px">
    <img src="{{.Product.Photo}}" style="width:90px;height:70px;object-fit:contain;background:#fafafa;border-radius:8px">
    <div style="flex:1">
        <div><b>{{.Product.Name}}</b></div>
        <div>SKU: {{.Product.SKU}}</div>
        <div>Кол-во: {{.Quantity}}</div>
        <div>Сумма: ₴{{printf "%.2f" .Subtotal}}</div>
    </div>
    <form method="POST" action="/cart/remove">
        <input type="hidden" name="id" value="{{.Product.ID}}">
        <button>Удалить</button>
    </form>
</div>
{{end}}

<h3>Итого: ₴{{printf "%.2f" .Total}}</h3>
</body>
</html>
